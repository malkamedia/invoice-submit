<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendor Invoice Form - Malka Media Group</title>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="invoice_styles.css">
    
    <!-- Override dropdown styling to match service dropdown -->
    <style>
        .form-select, select {
            width: 100%;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--color-gray-300) !important;
            border-radius: var(--border-radius);
            font-size: var(--font-size-sm);
            font-weight: 400;
            background: white;
            color: var(--color-gray-800);
            cursor: pointer;
            outline: none;
            
            /* Keep browser default dropdown functionality but clean styling */
            appearance: auto;
            -webkit-appearance: menulist;
            -moz-appearance: menulist;
        }

        .form-select:focus, select:focus {
            border-color: var(--color-primary) !important;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1) !important;
        }
    </style>
</head>
<body>
    <div id="invoice-form" class="invoice-container">
        
        <!-- Header Section -->
        <header class="invoice-header">
            <div class="header-content">
                <div class="invoice-title">
                    <h1>INVOICE</h1>
                    <p>Professional Services Invoice</p>
                </div>
                
                <div class="vendor-info">
                    <h3 class="required-field">Vendor Information</h3>
                    <div class="vendor-fields">
                        <input id="vendor-name" type="text" placeholder="Vendor Company Name" 
                               class="form-input" required>
                        <input id="vendor-address" type="text" placeholder="Vendor Address" 
                               class="form-input">
                        <input id="vendor-city" type="text" placeholder="City, State, ZIP" 
                               class="form-input">
                        <input id="vendor-email" type="email" placeholder="vendor.email@example.com" 
                               class="form-input" required>
                    </div>
                </div>
            </div>
        </header>

        <!-- Bill To & Invoice Details Section -->
        <section class="form-section">
            <div class="grid-2">
                <!-- Bill To -->
                <div class="bill-to-section">
                    <h2 class="section-title required-field">Bill To</h2>
                    <div class="bill-to-fields">
                        <input id="client-name" type="text" placeholder="Client Company Name" 
                               value="Malka Media Group" class="form-input" required>
                        <input id="hiring-manager" type="text" placeholder="Hiring Manager" 
                               class="form-input" required>
                        <input id="hiring-manager-email" type="email" placeholder="hiringmanager@malkamedia.com" 
                               class="form-input" required>
                    </div>
                    
                    <!-- Cost Center -->
                    <div class="cost-center-field">
                        <label for="cost-center" class="detail-label required-field">Cost Center:</label>
                        <select id="cost-center" class="form-select" required>
                            <option value="" disabled selected>Select Cost Center...</option>
                            <option value="40677">40677 - ML Malka Post Production</option>
                            <option value="40382">40382 - ML Malka Production</option>
                            <option value="40405">40405 - ML Malka Media Operations</option>
                            <option value="40383">40383 - ML Malka Project Management</option>
                            <option value="40425">40425 - ML Malka Animation</option>
                            <option value="40473">40473 - ML Malka Creative Services</option>
                            <option value="40386">40386 - ML Malka Account Management</option>
                        </select>
                    </div>
                </div>
                
                <!-- Invoice Details -->
                <div class="invoice-details">
                    <h2 class="section-title">Invoice Details</h2>
                    <div class="detail-row">
                        <label for="invoice-number" class="detail-label required-field">Invoice #:</label>
                        <input type="text" id="invoice-number" placeholder="INV-12345" 
                               class="form-input detail-input" value="INV-001" required>
                    </div>
                    <div class="detail-row">
                        <label for="invoice-date" class="detail-label required-field">Invoice Date:</label>
                        <input type="date" id="invoice-date" 
                               class="form-input detail-input" required>
                    </div>
                    <div class="detail-row">
                        <label for="pay-terms" class="detail-label required-field">Payment Terms:</label>
                        <select id="pay-terms" class="form-select detail-input" required>
                            <option>Due on Receipt</option>
                            <option>Net 15</option>
                            <option selected>Net 30</option>
                            <option>Net 45</option>
                            <option>Net 60</option>
                        </select>
                    </div>
                    <div class="detail-row">
                        <label for="po-number" class="detail-label">PO# (Optional):</label>
                        <input type="text" id="po-number" placeholder="Enter PO Number" 
                               class="form-input detail-input">
                    </div>
                </div>
            </div>
        </section>

        <!-- Service Period Section -->
        <section class="form-section">
            <div class="service-period-section">
                <h2 class="section-title required-field">Service Period</h2>
                <div class="grid-2">
                    <div>
                        <label for="service-start" class="detail-label">Service Start Date</label>
                        <input type="date" id="service-start" 
                               class="form-input" required>
                    </div>
                    <div>
                        <label for="service-end" class="detail-label">Service End Date</label>
                        <input type="date" id="service-end" 
                               class="form-input" required>
                    </div>
                </div>
            </div>
        </section>

        <!-- Invoice Items Section -->
        <section class="form-section">
            <h2 class="section-title">Invoice Items</h2>
            <table class="invoice-table">
                <thead class="table-header">
                    <tr>
                        <th>Service / Item</th>
                        <th>Job Code</th>
                        <th>Hours/QTY</th>
                        <th>Rate</th>
                        <th>Amount</th>
                        <th class="no-print">Actions</th>
                    </tr>
                </thead>
                <tbody id="invoice-items">
                    <!-- Item rows will be dynamically added here -->
                </tbody>
            </table>
            <button type="button" id="add-item-btn" class="btn btn-primary add-item-btn no-print">
                + Add Item
            </button>
        </section>

        <!-- Totals Section -->
        <section class="form-section">
            <div class="totals-section">
                <div class="totals-container">
                    <div class="total-row">
                        <span class="total-label">Subtotal:</span>
                        <span id="subtotal" class="total-value">$0.00</span>
                    </div>
                    <div class="total-row">
                        <label for="tax-rate" class="total-label">Tax (%):</label>
                        <input type="number" id="tax-rate" value="0" min="0" max="100" step="0.1" 
                               class="tax-input">
                    </div>
                    <div class="total-row">
                        <span class="total-label">Total:</span>
                        <span id="grand-total" class="total-value grand-total">$0.00</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer Section -->
        <footer class="invoice-footer no-print">
            <div class="footer-message">
                <h3>Thank you for your business!</h3>
                <p>Please ensure all required fields are completed before downloading or submitting.</p>
            </div>
            
            <div class="button-group">
                <button type="button" id="download-pdf-btn" class="btn btn-success">
                    Download PDF
                </button>
                <button type="button" id="submit-btn" class="btn btn-primary">
                    Submit to Spreadsheet
                </button>
            </div>
            
            <div id="status-message" class="status-message"></div>
        </footer>
    </div>

    <!-- Custom JavaScript -->
    <script src="invoice_scripts_fixed.js"></script>
</body>
</html>
